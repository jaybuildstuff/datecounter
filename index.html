<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jay & Mah</title>
    <!-- Google Fonts: DM Sans, Lora -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;700&family=Lora:wght@400;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        /* Color Palettes */
        :root {
            /* Light Mode Colors from user's palette */
            --text-color: #110e11;
            --background-color: #f8f6f9; /* Body Background */
            --main-bg-color: #e6d8f0; /* Rectangle Background - light purple */
            --primary-color: #a660ae; /* Main accent, e.g., button background */
            --secondary-color: #d095d7; /* Secondary accent, e.g., titles, borders */
            --accent-color: #cb6bd6; /* Strong accent, e.g., message box, counter values */
            --border-color: #e0d0f5; /* Light border */
            --button-text-color: #ffffff; /* White text on buttons */
            --birthday-banner-bg: #FFD700; /* Gold for birthdays */
            --birthday-banner-text: #8B4513; /* Brown for contrast */
            --modal-overlay-bg: rgba(0, 0, 0, 0.6);
            --modal-bg: #ffffff;
            --modal-text: #333;
            --modal-close-btn: #888;
            --cursor-color: #110e11; /* Black for cursor */
            --birthday-alert-color: #FF4500; /* OrangeRed for alert */
        }

        .dark-mode {
            /* Dark Mode Colors based on user's feedback */
            --text-color: #f8f6f9; /* Light text for dark background */
            --background-color: #1E1E1E; /* Soft black for body background */
            --main-bg-color: #2E2E2E; /* Slightly lighter soft black for rectangle */
            --primary-color: #d095d7; /* Adjusted primary for dark mode */
            --secondary-color: #cb6bd6; /* Adjusted secondary for dark mode */
            --accent-color: #a660ae; /* Adjusted accent for dark mode */
            --border-color: #4a4a4a; /* Darker border */
            --button-text-color: #f8f6f9; /* Light text on buttons */
            --birthday-banner-bg: #DAA520; /* Darker gold for birthdays */
            --birthday-banner-text: #FFFFFF; /* White for contrast */
            --modal-overlay-bg: rgba(0, 0, 0, 0.8);
            --modal-bg: #2E2E2E;
            --modal-text: #e0d5f0;
            --modal-close-btn: #f8f6f9;
            --cursor-color: #f8f6f9; /* White for cursor in dark mode */
            --birthday-alert-color: #FF6347; /* Tomato for alert in dark mode */
        }

        body {
            margin: 0;
            padding-top: 20px; /* Keep top space consistent */
            padding-bottom: 80px; /* More space at the bottom */
            padding-left: 10px;
            padding-right: 10px;
            /* Animated Gradient Background for Body - Now shifts darker */
            background: linear-gradient(135deg, var(--background-color), var(--secondary-color), var(--primary-color), #4a3e5e); /* Uses CSS variables */
            background-size: 400% 400%; /* Make the gradient larger */
            animation: gradient-animation 20s ease infinite; /* Slower animation for background */

            min-height: 100vh;
            display: flex;
            justify-content: center; /* Center horizontally */
            align-items: flex-start; /* Align content to the top, then padding/height controls position */
            font-family: 'DM Sans', sans-serif; /* Default font */
            color: var(--text-color); /* Default text color */
            box-sizing: border-box; /* Include padding in body's total dimensions */
            position: relative; /* Needed for pseudo-element positioning */
            overflow: hidden; /* Hide any overflow from grain effect */
            transition: background-color 0.5s ease, color 0.5s ease; /* Smooth transition for dark mode */
            cursor: none; /* Hide default cursor */
        }

        /* Grain effect (now the primary texture) */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* Faux material texture - subtle noise */
            background-image: radial-gradient(rgba(0, 0, 0, 0.05) 1px, transparent 1px);
            background-size: 3px 3px; /* Fine grain */
            pointer-events: none; /* Allow clicks/interactions to pass through */
            z-index: 1; /* Place it above the gradient but below content */
            opacity: 0.8; /* Subtle opacity */
        }

        .main-rectangle {
            /* Animated Gradient Background for Rectangle */
            background: linear-gradient(135deg, var(--main-bg-color), var(--secondary-color), var(--primary-color), var(--accent-color)); /* Uses CSS variables */
            background-size: 400% 400%; /* Make the gradient larger than the element */
            animation: gradient-animation 15s ease infinite; /* Animate the background position */

            width: 100%; /* Takes full width within body's horizontal padding */
            min-height: calc(100vh - 200px); /* Made significantly shorter */
            max-width: 900px;
            border-radius: 20px;
            padding: 50px 30px 20px 80px; /* Adjusted padding-left to 80px */
            box-shadow: 0 8px 30px rgba(180, 180, 180, 0.4); /* Softer, lighter shadow */
            box-sizing: border-box;
            flex-grow: 1; /* Allow it to grow horizontally if needed by flex container */
            z-index: 2; /* Place it above the grain */
            position: relative; /* Needed for z-index to work */
            display: flex; /* Enable flexbox for main content arrangement */
            flex-direction: column; /* Stack content vertically */
            justify-content: flex-start; /* Align content to the TOP */
            align-items: flex-start; /* Align content to the LEFT */
            transition: background-color 0.5s ease, box-shadow 0.5s ease; /* Smooth transition for dark mode */
        }
        /* Faux material texture for rectangle */
        .main-rectangle::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(rgba(0, 0, 0, 0.03) 1px, transparent 1px); /* Even more subtle */
            background-size: 3px 3px;
            pointer-events: none;
            z-index: 3; /* Above rectangle background */
            opacity: 0.5;
            border-radius: 20px; /* Match rectangle border-radius */
        }


        /* Keyframes for the gradient animation (used by both body and main-rectangle) */
        @keyframes gradient-animation {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        /* Top Row Container for Counter and Placeholders */
        .top-content-row {
            display: flex;
            flex-direction: row; /* Arrange children in a row */
            justify-content: space-around; /* Distribute space around items */
            align-items: flex-start; /* Align items to the top of the row */
            width: 100%;
            flex-wrap: wrap; /* Allow items to wrap on smaller screens */
            gap: 20px; /* Space between items in the row */
        }

        /* Counter Styling */
        .counter-container {
            text-align: left; /* Align text inside counter container to left */
            margin-bottom: 20px; /* Space below counter */
            color: var(--text-color); /* Default text color for counter titles/labels */
            margin-left: 0; /* Removed margin-left, relying on parent flex/padding */
            flex: 1; /* Allow counter to take up available space */
            max-width: 300px; /* Limit its width to ensure side-by-side */
            min-width: 280px; /* Ensure it doesn't get too small */
            display: flex; /* Use flex to center content */
            flex-direction: column; /* Stack days and seconds vertically */
            justify-content: center; /* Center vertically */
            align-items: center; /* Center horizontally */
        }

        .days-value {
            font-family: 'DM Sans', sans-serif; /* Bold Sans */
            font-size: 10rem; /* Very large size to fill space */
            font-weight: 700; /* Bold */
            color: var(--text-color); /* Dark text for the number */
            line-height: 1; /* Tighten line height */
            margin-top: 20px; /* Adjust vertical position */
        }

        .seconds-value {
            font-family: 'DM Sans', sans-serif; /* Normal Sans */
            font-size: 2rem; /* Smaller size for seconds */
            font-weight: 400; /* Lighter */
            color: #333; /* Slightly lighter text for seconds */
            line-height: 1;
            margin-top: 10px; /* Space below days */
        }

        /* Theme Toggle Button */
        .theme-toggle, .birthday-info-btn, .calendar-info-btn { /* Combined styling for all top-right buttons */
            position: fixed;
            top: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            background-color: var(--primary-color);
            color: var(--button-text-color);
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 100;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
        }
        .theme-toggle { right: 20px; }
        .birthday-info-btn { right: 70px; } /* Position next to theme toggle */
        .calendar-info-btn { right: 120px; } /* Position next to birthday button */

        .theme-toggle:hover, .birthday-info-btn:hover, .calendar-info-btn:hover {
            transform: scale(1.05);
        }
        .dark-mode .theme-toggle, .dark-mode .birthday-info-btn, .dark-mode .calendar-info-btn {
            background-color: var(--primary-color); /* Dark mode primary */
            color: var(--button-text-color); /* Dark mode button text */
        }


        /* Shared Images & Songs Placeholders */
        .shared-content-placeholder {
            background-color: var(--secondary-color); /* Use a color from your palette */
            color: #110e11; /* Changed to black */
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            width: 80%; /* Adjust width as needed */
            max-width: 250px; /* Limit max width for side-by-side */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transition: background-color 0.5s ease, color 0.5s ease;
            flex: 1; /* Allow it to take up available space */
            min-height: 200px; /* Ensure consistent height */
        }
        .shared-content-placeholder .icon {
            font-size: 3rem;
            margin-bottom: 10px;
            color: var(--primary-color); /* Icon color */
        }
        .shared-content-placeholder .title {
            font-family: 'Lora', serif;
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        .shared-content-placeholder .coming-soon-text {
            font-family: 'DM Sans', sans-serif;
            font-size: 1rem;
            opacity: 0.8;
        }
        .dark-mode .shared-content-placeholder {
            background-color: var(--accent-color); /* Dark mode background */
            color: var(--text-color); /* Dark mode text color */
        }
        .dark-mode .shared-content-placeholder .icon {
            color: var(--secondary-color); /* Dark mode icon color */
        }


        /* Daily Message Box */
        .daily-message-box {
            background-color: var(--accent-color); /* Use a strong accent color */
            color: #110e11; /* Changed to black */
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin-top: 30px; /* Space from elements above */
            width: calc(100% - 60px); /* Fill most of the width, considering padding */
            max-width: 800px; /* Max width for consistency */
            min-height: 120px; /* Fixed height for consistency */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            font-family: 'DM Sans', sans-serif; /* Changed to DM Sans */
            font-style: normal; /* Removed italic */
            font-size: 1.3rem;
            line-height: 1.5;
            transition: background-color 0.5s ease, color 0.5s ease;
        }
        .daily-message-box .message-content {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            flex-grow: 1; /* Allow content to grow */
        }
        .daily-message-box .icon {
            font-size: 1.8rem;
            margin: 0 10px;
            color: #110e11; /* Icon color matches text */
        }
        .dark-mode .daily-message-box {
            background-color: var(--primary-color); /* Dark mode accent */
            color: var(--text-color); /* Dark mode text color */
        }
        .dark-mode .daily-message-box .icon {
            color: var(--text-color); /* Dark mode icon color */
        }


        /* Responsive adjustments for smaller screens */
        @media (max-width: 768px) {
            .main-rectangle {
                flex-direction: column; /* Stack vertically on smaller screens */
                padding: 30px 15px 15px 30px; /* Adjust padding for stacking */
                align-items: center; /* Center items when stacked */
            }
            .top-content-row {
                flex-direction: column; /* Stack items in top row vertically */
                align-items: center; /* Center items when stacked */
                gap: 30px; /* More space between stacked items */
            }
            .counter-container {
                margin-left: 0; /* Remove specific left margin when stacked */
                margin-bottom: 30px; /* Add space below counter when stacked */
                max-width: 100%; /* Allow full width when stacked */
            }
            .days-counter-box { /* Adjust for smaller screens */
                max-width: 100%;
                min-height: 150px;
                padding: 20px;
            }
            .days-counter-box .days-value {
                font-size: 8rem; /* Adjust size for smaller screens */
            }
            .days-counter-box .time-label {
                font-size: 0.8rem;
            }
            .seconds-value {
                font-size: 1.5rem; /* Adjust size for smaller screens */
            }
            .theme-toggle {
                width: 35px;
                height: 35px;
                font-size: 1rem;
                top: 10px;
                right: 10px;
            }
            .shared-images-placeholder .icon,
            .shared-songs-placeholder .icon {
                font-size: 2.5rem;
            }
            .shared-images-placeholder .title,
            .shared-songs-placeholder .title {
                font-size: 1.3rem;
            }
            .shared-images-placeholder .coming-soon-text,
            .shared-songs-placeholder .coming-soon-text {
                font-size: 0.9rem;
            }
            .daily-message-box {
                width: 90%;
                padding: 15px;
                font-size: 1.1rem;
                min-height: 100px;
            }
            .daily-message-box .icon {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <button id="themeToggleBtn" class="theme-toggle" aria-pressed="false" aria-label="Toggle light/dark theme">
        <i class="fas fa-moon"></i>
    </button>
    <button id="birthdayInfoBtn" class="birthday-info-btn" aria-label="Show upcoming birthdays">
        <i class="fas fa-birthday-cake"></i>
    </button>
    <button id="calendarInfoBtn" class="calendar-info-btn" aria-label="Show calendar and holidays">
        <i class="fas fa-calendar-alt"></i>
    </button>
    
    <!-- Birthday Notification Banner -->
    <div id="birthdayNotification" class="birthday-notification">
        <span id="birthdayMessage"></span>
        <button id="closeBirthdayNotification"><i class="fas fa-times"></i></button>
    </div>

    <!-- Upcoming Birthdays Modal -->
    <div id="upcomingBirthdaysModal" class="modal-overlay">
        <div class="modal-content">
            <button id="closeUpcomingBirthdaysModal" class="modal-close-btn"><i class="fas fa-times"></i></button>
            <h3>Upcoming Birthdays</h3>
            <p id="upcomingBirthdaysContent"></p> <!-- Content will be dynamically set -->
        </div>
    </div>

    <!-- Calendar Modal (Coming Soon) -->
    <div id="calendarModal" class="modal-overlay">
        <div class="modal-content">
            <button id="closeCalendarModal" class="modal-close-btn"><i class="fas fa-times"></i></button>
            <h3>Our Mixed Calendar</h3>
            <p id="calendarContent">Ethiopian and International holidays coming soon... 🎉</p>
        </div>
    </div>

    <div class="main-rectangle">
        <!-- Main content row: Days Counter, Shared Images, and Shared Songs -->
        <div class="top-content-row">
            <div class="counter-container">
                <div class="days-counter-box">
                    <span class="time-label">Days</span> <!-- Label above number -->
                    <span id="daysValue" class="days-value">0</span>
                </div>
                <div id="secondsGroup" class="time-group"> <!-- Seconds group re-added -->
                    <span class="time-label">Seconds</span> <!-- Label above number -->
                    <span id="secondsValue" class="seconds-value">0</span>
                </div>
            </div>

            <!-- Shared Images Placeholder -->
            <div class="shared-content-placeholder shared-images-placeholder">
                <i class="fas fa-image icon"></i>
                <h3 class="title">Our Shared Images</h3>
                <p class="coming-soon-text">Coming soon... 🖼️</p>
            </div>

            <!-- Shared Songs Placeholder -->
            <div class="shared-content-placeholder shared-songs-placeholder">
                <i class="fas fa-music icon"></i>
                <h3 class="title">Our Shared Songs</h3>
                <p class="coming-soon-text">Coming soon... 🎶</p>
            </div>
        </div>

        <!-- Daily Message Box -->
        <div class="daily-message-box">
            <div class="message-content">
                <i class="fas fa-cat icon"></i>
                <span id="dailyMessage">Daily Text goes here...</span>
                <i class="fas fa-cat icon"></i>
            </div>
        </div>

    </div>

    <!-- Custom Cursor Element -->
    <div class="custom-cursor"></div>

    <script>
        const startDate = new Date('2023-11-01T00:00:00'); // Your start date

        // START OF BIRTHDAYS LIST (Month is 0-indexed: Jan=0, Feb=1, ..., Dec=11)
        const birthdays = [
            { name: "Beamlak Samuel", month: 0, day: 1 }, // Jan 1
            { name: "Addae Madzimoyo", month: 0, day: 7 }, // Jan 7
            { name: "Tsionawit Abera Desta", month: 0, day: 15 }, // Jan 15
            { name: "Serukyas Tewahido", month: 1, day: 1 }, // Feb 1
            { name: "Mathewos Ayelework", month: 1, day: 10 }, // Feb 10
            { name: "Daniela Pirela-Manares", month: 1, day: 12 }, // Feb 12
            { name: "Meseret Kiros Alema", month: 1, day: 16 }, // Feb 16
            { name: "Biniyam (Jay's)", month: 1, day: 19 }, // Feb 19 (Yek 12)
            { name: "Marcon (Jay's)", month: 1, day: 21 }, // Feb 21
            { name: "Leul (Jay's)", month: 1, day: 28 }, // Feb 28
            { name: "Abyssinia Zewdie", month: 2, day: 5 }, // March 5
            { name: "Neveah Adams", month: 2, day: 7 }, // March 7
            { name: "Addishiwot Belew Dagnew", month: 2, day: 11 }, // March 11
            { name: "Fikir Yohannes", month: 2, day: 15 }, // March 15
            { name: "Beamlak Henok", month: 2, day: 18 }, // March 18
            { name: "David Minda", month: 2, day: 19 }, // March 19
            { name: "Senay (Jay's)", month: 2, day: 19 }, // March 19
            { name: "Yeabsira Tamirat", month: 2, day: 23 }, // March 23
            { name: "Sammy Senpai", month: 2, day: 28 }, // March 28
            { name: "Kimberly Hoang", month: 3, day: 10 }, // April 10
            { name: "Eyerusalem Assefa Shewago", month: 3, day: 13 }, // April 13
            { name: "Betselot Wogderes", month: 3, day: 20 }, // April 20
            { name: "Essey Araya", month: 3, day: 30 }, // April 30
            { name: "Beamlaksra Fasil", month: 4, day: 6 }, // May 6
            { name: "Bemnet Zekarias", month: 4, day: 14 }, // May 14
            { name: "Woinshet (Jay's)", month: 4, day: 21 }, // May 21
            { name: "Claudia Wanjira", month: 4, day: 30 }, // May 30
            { name: "Basleal (Jay's)", month: 5, day: 4 }, // June 4
            { name: "Solyana Tamirat", month: 5, day: 7 }, // June 7
            { name: "Betsinat Wogderes", month: 5, day: 18 }, // June 18
            { name: "Nahom Mesfin", month: 5, day: 20 }, // June 20
            { name: "Kamuskay Kamara", month: 5, day: 22 }, // June 22
            { name: "MOM", month: 5, day: 23 }, // June 23
            { name: "Abenezer (Jay's)", month: 5, day: 23 }, // June 23
            { name: "Biruktawit Yaze", month: 5, day: 26 }, // June 26
            { name: "Rekik Chernet", month: 6, day: 2 }, // July 2
            { name: "Hermona Desta", month: 6, day: 4 }, // July 4
            { name: "Minas (Jay's)", month: 6, day: 4 }, // July 4
            { name: "Lidya Lakew", month: 6, day: 11 }, // July 11
            { name: "Saratou Bako Bagassa", month: 6, day: 13 }, // July 13
            { name: "Dr. Carmen Lynas", month: 6, day: 26 }, // July 26
            { name: "Tsegi (Jay's)", month: 7, day: 1 }, // Aug 1
            { name: "Biruk Sintayehu Tolla", month: 7, day: 3 }, // Aug 3
            { name: "Providence Suenge", month: 7, day: 10 }, // Aug 10
            { name: "Melake Birhanu Negus", month: 7, day: 15 }, // Aug 15
            { name: "Yafet", month: 7, day: 18 }, // Aug 18
            { name: "Alazar (Jay's)", month: 8, day: 3 }, // Sep 3
            { name: "Yididya Merete", month: 8, day: 10 }, // Sep 10
            { name: "Liya Gebru", month: 8, day: 15 }, // Sep 15
            { name: "Micheal Adebusoye", month: 8, day: 20 }, // Sep 20
            { name: "Tesfaye Kefene", month: 8, day: 21 }, // Sep 21
            { name: "Arphaxad Nyabuto", month: 8, day: 25 }, // Sep 25
            { name: "Amar Asfaw Dilala", month: 8, day: 27 }, // Sep 27
            { name: "Nahom Ketsela", month: 8, day: 28 }, // Sep 28
            { name: "Osman Jalloh", month: 9, day: 2 }, // Oct 2
            { name: "Blen Tewodros Gulilat", month: 9, day: 10 }, // Oct 10
            { name: "Bateal Zimna", month: 9, day: 11 }, // Oct 11
            { name: "Beti (Jay's)", month: 9, day: 11 }, // Oct 11
            { name: "Daniela Villanueva-Tellez", month: 9, day: 16 }, // Oct 16
            { name: "Amogelang Dlamini", month: 9, day: 23 }, // Oct 23
            { name: "Pierre Diatta", month: 9, day: 28 }, // Oct 28
            { name: "Perle Fayida", month: 10, day: 4 }, // Nov 4
            { name: "Solome Misganaw", month: 10, day: 5 }, // Nov 5
            { name: "Berhane Wheeler", month: 10, day: 14 }, // Nov 14
            { name: "Esterline Charles", month: 10, day: 27 }, // Nov 27
            { name: "Gertrude Mbewe", month: 10, day: 28 }, // Nov 28
            { name: "Betelihem Befirdu", month: 10, day: 30 }, // Nov 30
            { name: "Nika Davenport", month: 10, day: 30 }, // Nov 30
            { name: "Hizkeal Yeshitla", month: 11, day: 4 }, // Dec 4
            { name: "Meron Yeshitla", month: 11, day: 4 }, // Dec 4
            { name: "Sami (Jay's)", month: 11, day: 4 }, // Dec 4
            { name: "Mam-mary SarrFox", month: 11, day: 5 }, // Dec 5
            { name: "Sara Naizghi", month: 11, day: 13 }, // Dec 13
            { name: "Naod Ksmu", month: 11, day: 23 }, // Dec 23
            { name: "Liya Belay Tessema", month: 11, day: 30 }, // Dec 30
            { name: "Laura Warren", month: 11, day: 31 } // Dec 31
        ];
        // END OF BIRTHDAYS LIST


        // Get references to the elements for updating
        const daysValue = document.getElementById('daysValue');
        const secondsValue = document.getElementById('secondsValue'); // Get reference to the seconds value
        const dailyMessageElement = document.getElementById('dailyMessage'); // Reference for daily message

        const themeToggleBtn = document.getElementById('themeToggleBtn');
        const birthdayInfoBtn = document.getElementById('birthdayInfoBtn');
        const calendarInfoBtn = document.getElementById('calendarInfoBtn');

        const birthdayNotification = document.getElementById('birthdayNotification');
        const birthdayMessageSpan = document.getElementById('birthdayMessage');
        const closeBirthdayNotificationBtn = document.getElementById('closeBirthdayNotification');

        const upcomingBirthdaysModal = document.getElementById('upcomingBirthdaysModal');
        const upcomingBirthdaysContent = document.getElementById('upcomingBirthdaysContent');
        const closeUpcomingBirthdaysModalBtn = document.getElementById('closeUpcomingBirthdaysModal');

        const calendarModal = document.getElementById('calendarModal'); // New calendar modal
        const calendarContent = document.getElementById('calendarContent'); // New calendar modal content
        const closeCalendarModalBtn = document.getElementById('closeCalendarModal'); // New calendar modal close button

        const customCursor = document.querySelector('.custom-cursor'); // Custom cursor element


        // Messages for daily display
        const messages = [
            "I had a brief moment where I looked at you and thought, something has never felt this right - June 19, 2024",
            "I looked at you and felt sure. I don't know what of but I felt that way , And I knew I'd never make regrets about you - June 19, 2024",
            "Seeing you was the best decision, I enjoyed my time, 🫶🏽 I'd do it anyday - June 19, 2024",
            "Had no idea Obama lived in Chicago - May 31, 2025",
            "I'm so proud to live in the world with you - January 7, 2025",
            "pewds is my totoro 🫶🏽 (i havent watched that one) - June 9 2024",
            ":)",
            "Don't worry about me konjo",
            "You're always worth the wait",
            "How can you say you're not gonna read them and describe them so passionately - Nov 24, 2023",
            "Bitch eat actual misir please😭 - September 28, 2024",
            "One of the many things i admire about you🙂 - January 5, 2025",
            "Be careful of men - May 26, 2024",
            "its so cool when people arent related in blood but become close like family - January 13, 2014",
            "You're my happy place🫶 - nah, i was made for you - June 24, 2025",
            "i miss you everyday, from the moment i wake up - June 24, 2025"
        ];


        // Function to calculate and update the precise time difference
        function updateCounter() {
            const now = new Date();
            const start = new Date('2023-11-01T00:00:00'); // Your start date

            let totalDiffMillis = now.getTime() - start.getTime();
            
            // Calculate total days
            let totalSeconds = Math.floor(totalDiffMillis / 1000);
            let totalMinutes = Math.floor(totalSeconds / 60);
            let totalHours = Math.floor(totalMinutes / 60);
            let totalDays = Math.floor(totalHours / 24);

            let seconds = totalSeconds % 60; // Get remaining seconds


            daysValue.textContent = totalDays;
            secondsValue.textContent = String(seconds).padStart(2, '0'); // Update seconds
        }

        // Function to set the daily message
        function setDailyMessage() {
            const now = new Date();
            // Calculate day of the year (0-365)
            const startOfYear = new Date(now.getFullYear(), 0, 0);
            const diff = now - startOfYear;
            const oneDay = 1000 * 60 * 60 * 24;
            const dayOfYear = Math.floor(diff / oneDay);
            
            // Use day of year to cycle through messages
            const messageIndex = dayOfYear % messages.length;

            dailyMessageElement.textContent = messages[messageIndex];
        }

        // Helper to get month name (needed for birthday list)
        function getMonthName(monthIndex) {
            const monthNames = ["January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"];
            return monthNames[monthIndex];
        }

        function checkBirthdayToday() {
            const today = new Date();
            const currentMonth = today.getMonth(); // 0-indexed
            const currentDay = today.getDate(); // 1-indexed

            let birthdayFound = false;
            let birthdayNames = [];

            for (const person of birthdays) {
                if (person.month === currentMonth && person.day === currentDay) {
                    birthdayNames.push(person.name);
                    birthdayFound = true;
                }
            }

            if (birthdayFound) {
                birthdayMessageSpan.textContent = `Happy Birthday, ${birthdayNames.join(' and ')}! 🎂`;
                birthdayNotification.classList.add('show');
            } else {
                birthdayNotification.classList.remove('show');
            }
        }

        // Function to get upcoming birthdays within the next 30 days
        function getUpcomingBirthdays() {
            const today = new Date();
            today.setHours(0, 0, 0, 0); // Normalize to start of day

            const thirtyDaysFromNow = new Date();
            thirtyDaysFromNow.setDate(today.getDate() + 30);
            thirtyDaysFromNow.setHours(23, 59, 59, 999); // Normalize to end of day

            const upcomingList = [];

            for (const person of birthdays) {
                let nextBirthday = new Date(today.getFullYear(), person.month, person.day);
                
                // If this year's birthday has already passed, consider next year's
                if (nextBirthday.getTime() < today.getTime()) {
                    nextBirthday.setFullYear(today.getFullYear() + 1);
                }

                // Check if this upcoming birthday falls within the next 30 days
                if (nextBirthday.getTime() >= today.getTime() && nextBirthday.getTime() <= thirtyDaysFromNow.getTime()) {
                    upcomingList.push({
                        name: person.name,
                        date: nextBirthday
                    });
                }
            }

            // Sort by date
            upcomingList.sort((a, b) => a.date.getTime() - b.date.getTime());

            // Format for display
            if (upcomingList.length === 0) {
                return "<p>No birthdays coming up soon ya'll can relax.</p>";
            } else {
                let htmlList = "<ul>";
                const options = { month: 'long', day: 'numeric' };
                for (const item of upcomingList) {
                    htmlList += `<li><strong>${item.name}</strong>: ${item.date.toLocaleDateString(undefined, options)}</li>`;
                }
                htmlList += "</ul>";
                return htmlList;
            }
        }

        function showUpcomingBirthdays() {
            upcomingBirthdaysContent.innerHTML = getUpcomingBirthdays(); // Set content dynamically
            upcomingBirthdaysModal.classList.add('show');
        }

        // Function to check if there's *any* upcoming birthday for the icon alert
        function checkUpcomingBirthdayAlert() {
            const today = new Date();
            today.setHours(0, 0, 0, 0);

            const thirtyDaysFromNow = new Date();
            thirtyDaysFromNow.setDate(today.getDate() + 30);
            thirtyDaysFromNow.setHours(23, 59, 59, 999);

            let hasUpcoming = false;
            for (const person of birthdays) {
                let nextBirthday = new Date(today.getFullYear(), person.month, person.day);
                if (nextBirthday.getTime() < today.getTime()) {
                    nextBirthday.setFullYear(today.getFullYear() + 1);
                }
                if (nextBirthday.getTime() >= today.getTime() && nextBirthday.getTime() <= thirtyDaysFromNow.getTime()) {
                    hasUpcoming = true;
                    break;
                }
            }
            if (hasUpcoming) {
                birthdayInfoBtn.classList.add('alert');
            } else {
                birthdayInfoBtn.classList.remove('alert');
            }
        }


        function showCalendarModal() {
            // For now, display the default message for the calendar
            calendarContent.textContent = "Ethiopian and International holidays coming soon... 🎉";
            calendarModal.classList.add('show');
        }


        // Function to toggle dark mode
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            themeToggleBtn.setAttribute('aria-pressed', isDark);
            // Update icon
            themeToggleBtn.querySelector('i').className = `fas ${isDark ? 'fa-sun' : 'fa-moon'}`;
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            updateCounter();
            setDailyMessage(); // Set the daily message on load
            setInterval(updateCounter, 1000);

            // Apply saved theme on load
            const storedTheme = localStorage.getItem('theme');
            if (storedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                themeToggleBtn.querySelector('i').className = 'fas fa-sun';
            } else {
                themeToggleBtn.querySelector('i').className = 'fas fa-moon';
            }
            themeToggleBtn.setAttribute('aria-pressed', storedTheme === 'dark');

            // Add event listener for theme toggle button
            themeToggleBtn.addEventListener('click', toggleTheme);

            // Birthday and Calendar features initialization
            checkBirthdayToday(); // Check for birthdays today (banner)
            checkUpcomingBirthdayAlert(); // Check for upcoming birthdays (icon alert)

            // Get references for birthday/calendar buttons and modals
            const closeBirthdayNotificationBtn = document.getElementById('closeBirthdayNotification');
            const closeUpcomingBirthdaysModalBtn = document.getElementById('closeUpcomingBirthdaysModal');
            const upcomingBirthdaysModal = document.getElementById('upcomingBirthdaysModal');
            const upcomingBirthdaysContent = document.getElementById('upcomingBirthdaysContent');

            const calendarInfoBtn = document.getElementById('calendarInfoBtn');
            const closeCalendarModalBtn = document.getElementById('closeCalendarModal');
            const calendarModal = document.getElementById('calendarModal');
            const calendarContent = document.getElementById('calendarContent');


            // Event listeners for birthday/calendar features
            if (closeBirthdayNotificationBtn) { // Check if element exists before adding listener
                closeBirthdayNotificationBtn.addEventListener('click', () => {
                    birthdayNotification.classList.remove('show');
                });
            }

            if (birthdayInfoBtn) { // Check if element exists
                birthdayInfoBtn.addEventListener('click', showUpcomingBirthdays);
            }
            if (closeUpcomingBirthdaysModalBtn) { // Check if element exists
                closeUpcomingBirthdaysModalBtn.addEventListener('click', () => {
                    upcomingBirthdaysModal.classList.remove('show');
                });
            }
            if (upcomingBirthdaysModal) { // Check if element exists
                upcomingBirthdaysModal.addEventListener('click', (event) => {
                    if (event.target === upcomingBirthdaysModal) {
                        upcomingBirthdaysModal.classList.remove('show');
                    }
                });
            }

            if (calendarInfoBtn) { // Check if element exists
                calendarInfoBtn.addEventListener('click', showCalendarModal);
            }
            if (closeCalendarModalBtn) { // Check if element exists
                closeCalendarModalBtn.addEventListener('click', () => {
                    calendarModal.classList.remove('show');
                });
            }
            if (calendarModal) { // Check if element exists
                calendarModal.addEventListener('click', (event) => {
                    if (event.target === calendarModal) {
                        calendarModal.classList.remove('show');
                    }
                    // Prevent clicks inside the modal content from closing it
                    event.stopPropagation();
                });
            }

            // Custom Cursor Logic (if customCursor element exists)
            const customCursor = document.querySelector('.custom-cursor');
            if (customCursor) {
                document.addEventListener('mousemove', (e) => {
                    // Only show custom cursor on larger screens (PC)
                    if (window.innerWidth > 768) {
                        customCursor.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
                    }
                });
            }
        });
    </script>
</body>
</html>
