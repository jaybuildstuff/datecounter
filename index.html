<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jay & Mah</title>
    <!-- Google Fonts: DM Sans, Lora -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;700&family=Lora:wght@400;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        /* Color Palettes */
        :root {
            /* Light Mode Colors from user's palette */
            --text-color: #110e11;
            --background-color: #f8f6f9; /* Body Background */
            --main-bg-color: #e6d8f0; /* Rectangle Background - light purple */
            --primary-color: #a660ae; /* Main accent, e.g., button background */
            --secondary-color: #d095d7; /* Secondary accent, e.g., titles, borders */
            --accent-color: #cb6bd6; /* Strong accent, e.g., message box, counter values */
            --border-color: #e0d0f5; /* Light border */
            --button-text-color: #ffffff; /* White text on buttons */
            --birthday-banner-bg: #FFD700; /* Gold for birthdays */
            --birthday-banner-text: #8B4513; /* Brown for contrast */
            --modal-overlay-bg: rgba(0, 0, 0, 0.6);
            --modal-bg: #ffffff;
            --modal-text: #333;
            --modal-close-btn: #888;
            /* Removed --cursor-color */
            --birthday-alert-color: #FF4500; /* OrangeRed for alert */
        }

        .dark-mode {
            /* Dark Mode Colors based on user's feedback */
            --text-color: #f8f6f9; /* Light text for dark background */
            --background-color: #1E1E1E; /* Soft black for body background */
            --main-bg-color: #2E2E2E; /* Slightly lighter soft black for rectangle */
            --primary-color: #d095d7; /* Adjusted primary for dark mode */
            --secondary-color: #cb6bd6; /* Adjusted secondary for dark mode */
            --accent-color: #a660ae; /* Adjusted accent for dark mode */
            --border-color: #4a4a4a; /* Darker border */
            --button-text-color: #f8f6f9; /* Light text on buttons */
            --birthday-banner-bg: #DAA520; /* Darker gold for birthdays */
            --birthday-banner-text: #FFFFFF; /* White for contrast */
            --modal-overlay-bg: rgba(0, 0, 0, 0.8);
            --modal-bg: #2E2E2E;
            --modal-text: #e0d5f0;
            --modal-close-btn: #f8f6f9;
            /* Removed --cursor-color */
            --birthday-alert-color: #FF6347; /* Tomato for alert in dark mode */
        }

        body {
            margin: 0;
            background: linear-gradient(135deg, var(--background-color), var(--secondary-color), var(--primary-color), #4a3e5e);
            background-size: 400% 400%;
            animation: gradient-animation 20s ease infinite;
            min-height: 100vh;
            font-family: 'DM Sans', sans-serif;
            color: var(--text-color);
            box-sizing: border-box;
            position: relative;
            overflow: hidden;
            transition: background-color 0.5s ease, color 0.5s ease;
            /* Removed cursor: none; */
            display: grid; 
            place-items: center; 
            padding: 20px;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(rgba(0, 0, 0, 0.05) 1px, transparent 1px);
            background-size: 3px 3px;
            pointer-events: none;
            z-index: 1;
            opacity: 0.8;
        }

        .main-rectangle {
            background: linear-gradient(135deg, var(--main-bg-color), var(--secondary-color), var(--primary-color), var(--accent-color));
            background-size: 400% 400%;
            animation: gradient-animation 15s ease infinite;
            width: 100%;
            min-height: 85vh; 
            max-width: 900px;
            border-radius: 20px;
            padding: 50px 30px;
            box-shadow: 0 8px 30px rgba(180, 180, 180, 0.4);
            box-sizing: border-box;
            z-index: 2;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            transition: background-color 0.5s ease, box-shadow 0.5s ease;
        }

        .main-rectangle::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(rgba(0, 0, 0, 0.03) 1px, transparent 1px);
            background-size: 3px 3px;
            pointer-events: none;
            z-index: 3;
            opacity: 0.5;
            border-radius: 20px;
        }


        /* Keyframes for the gradient animation (used by both body and main-rectangle) */
        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Top Row Container for Counter and Placeholders */
        .top-content-row {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: flex-start;
            width: 100%;
            flex-wrap: wrap;
            gap: 20px;
        }

        /* Counter Styling */
        .counter-container {
            text-align: center;
            margin-bottom: 20px;
            color: var(--text-color);
            flex: 1 1 280px;
            max-width: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .days-counter-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .days-value {
            font-family: 'DM Sans', sans-serif;
            font-size: 10rem;
            font-weight: 700;
            color: var(--text-color);
            line-height: 1;
            margin-top: 20px;
        }

        .seconds-value {
            font-family: 'DM Sans', sans-serif;
            font-size: 2rem;
            font-weight: 400;
            color: var(--text-color);
            line-height: 1;
            margin-top: 10px;
        }
        
        .time-label {
            font-family: 'Lora', serif;
            font-size: 1.5rem;
            opacity: 0.8;
            color: var(--text-color);
        }

        /* Theme Toggle Button */
        .theme-toggle, .birthday-info-btn, .calendar-info-btn {
            position: fixed;
            top: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            background-color: var(--primary-color);
            color: var(--button-text-color);
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 100;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
        }
        .theme-toggle { right: 20px; }
        .birthday-info-btn { right: 70px; }
        .calendar-info-btn { right: 120px; }

        .theme-toggle:hover, .birthday-info-btn:hover, .calendar-info-btn:hover {
            transform: scale(1.05);
        }
        .dark-mode .theme-toggle, .dark-mode .birthday-info-btn, .dark-mode .calendar-info-btn {
            background-color: var(--primary-color);
            color: var(--button-text-color);
        }
        /* Alert animation for the birthday button */
        .birthday-info-btn.alert {
            animation: pulse-alert 1.5s infinite;
        }
        @keyframes pulse-alert {
            0% { box-shadow: 0 0 0 0 var(--birthday-alert-color); }
            70% { box-shadow: 0 0 0 10px rgba(255, 69, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 69, 0, 0); }
        }


        /* Shared Images & Songs Placeholders */
        .shared-content-placeholder {
            background-color: var(--secondary-color);
            color: var(--text-color);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            flex: 1 1 200px; /* Allow items to grow and shrink, with a base of 200px */
            max-width: 250px; /* Keep max-width for individual items */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transition: background-color 0.5s ease, color 0.5s ease;
            min-height: 200px;
        }
        .shared-content-placeholder .icon {
            font-size: 3rem;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        .shared-content-placeholder .title {
            font-family: 'Lora', serif;
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        .shared-content-placeholder .coming-soon-text {
            font-family: 'DM Sans', sans-serif;
            font-size: 1rem;
            opacity: 0.8;
        }
        .dark-mode .shared-content-placeholder {
            background-color: var(--accent-color);
            color: var(--text-color);
        }
        .dark-mode .shared-content-placeholder .icon {
            color: var(--secondary-color);
        }

        /* Daily Message Box */
        .daily-message-box {
            background-color: var(--accent-color);
            color: var(--text-color);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin-top: 30px;
            width: 95%;
            max-width: 800px;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            font-family: 'DM Sans', sans-serif;
            font-size: 1.3rem;
            line-height: 1.5;
            transition: background-color 0.5s ease, color 0.5s ease;
        }
        .daily-message-box .message-content {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            flex-grow: 1;
        }
        .daily-message-box .icon {
            font-size: 1.8rem;
            margin: 0 10px;
            color: var(--text-color);
        }
        .dark-mode .daily-message-box {
            background-color: var(--primary-color);
            color: var(--text-color);
        }
        .dark-mode .daily-message-box .icon {
            color: var(--text-color);
        }

        /* Birthday Notification Banner */
        .birthday-notification {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 600px;
            background-color: var(--birthday-banner-bg);
            color: var(--birthday-banner-text);
            padding: 15px;
            border-radius: 10px 10px 0 0;
            box-shadow: 0 -4px 10px rgba(0,0,0,0.1);
            z-index: 101;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-family: 'DM Sans', sans-serif;
            font-size: 1.1rem;
            transition: transform 0.3s ease-in-out;
            transform: translateY(100%) translateX(-50%);
        }
        .birthday-notification.show {
            transform: translateY(0) translateX(-50%);
        }
        .birthday-notification button {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--birthday-banner-text);
            cursor: pointer;
            padding: 0 10px;
        }

        /* Modal Styles */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--modal-overlay-bg);
            z-index: 200;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-overlay.show {
            display: flex;
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background-color: var(--modal-bg);
            color: var(--modal-text);
            padding: 30px;
            border-radius: 15px;
            max-width: 400px;
            width: 90%;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            text-align: center;
        }
        .modal-close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--modal-close-btn);
            cursor: pointer;
        }
        .modal-content h3 {
            font-family: 'Lora', serif;
            font-size: 2rem;
            margin-top: 0;
            color: var(--secondary-color);
        }
        .modal-content p {
            font-family: 'DM Sans', sans-serif;
            font-size: 1rem;
        }
        .modal-content ul {
            list-style-type: none;
            padding: 0;
            text-align: left;
        }
        .modal-content li {
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px solid var(--border-color);
        }
        .modal-content li:last-child {
            border-bottom: none;
        }

        /* Removed custom cursor styles */
        /* .custom-cursor {
            width: 25px;
            height: 25px;
            border: 2px solid var(--cursor-color);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            transform: translate(-50%, -50%);
            transition: width 0.2s, height 0.2s, background-color 0.2s, transform 0.1s;
            z-index: 9999;
        } */

        /* Responsive adjustments for smaller screens */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .main-rectangle {
                min-height: 90vh;
                padding: 30px 15px;
            }
            .top-content-row {
                flex-direction: column;
                align-items: center;
                gap: 30px;
            }
            .counter-container {
                max-width: 100%;
                margin-bottom: 0;
            }
            .days-value {
                font-size: 8rem;
            }
            .seconds-value {
                font-size: 1.5rem;
            }
            .shared-content-placeholder {
                max-width: 100%;
                min-height: auto;
            }
            .theme-toggle, .birthday-info-btn, .calendar-info-btn {
                width: 35px;
                height: 35px;
                font-size: 1rem;
                top: 10px;
                right: 10px;
            }
            .birthday-info-btn { right: 55px; }
            .calendar-info-btn { right: 100px; }
            .daily-message-box {
                width: 100%;
                font-size: 1.1rem;
            }
            /* Removed custom cursor display for mobile */
            /* .custom-cursor {
                display: none;
            } */
        }
    </style>
</head>
<body>
    <button id="themeToggleBtn" class="theme-toggle" aria-pressed="false" aria-label="Toggle light/dark theme">
        <i class="fas fa-moon"></i>
    </button>
    <button id="birthdayInfoBtn" class="birthday-info-btn" aria-label="Show upcoming birthdays">
        <i class="fas fa-birthday-cake"></i>
    </button>
    <button id="calendarInfoBtn" class="calendar-info-btn" aria-label="Show calendar and holidays">
        <i class="fas fa-calendar-alt"></i>
    </button>
    
    <!-- Birthday Notification Banner -->
    <div id="birthdayNotification" class="birthday-notification">
        <span id="birthdayMessage"></span>
        <button id="closeBirthdayNotification"><i class="fas fa-times"></i></button>
    </div>

    <!-- Upcoming Birthdays Modal -->
    <div id="upcomingBirthdaysModal" class="modal-overlay">
        <div class="modal-content">
            <button id="closeUpcomingBirthdaysModal" class="modal-close-btn"><i class="fas fa-times"></i></button>
            <h3>Upcoming Birthdays</h3>
            <p id="upcomingBirthdaysContent"></p>
        </div>
    </div>

    <!-- Calendar Modal (Coming Soon) -->
    <div id="calendarModal" class="modal-overlay">
        <div class="modal-content">
            <button id="closeCalendarModal" class="modal-close-btn"><i class="fas fa-times"></i></button>
            <h3>Our Mixed Calendar</h3>
            <p id="calendarContent">Ethiopian and International holidays coming soon... üéâ</p>
        </div>
    </div>

    <div class="main-rectangle">
        <!-- Main content row: Days Counter, Shared Images, and Shared Songs -->
        <div class="top-content-row">
            <div class="counter-container">
                <!-- Removed "Days since we started" text -->
                <span id="daysValue" class="days-value">0</span>
                <span class="time-label">Seconds</span>
                <span id="secondsValue" class="seconds-value">0</span>
            </div>

            <!-- Shared Images Placeholder -->
            <div class="shared-content-placeholder shared-images-placeholder">
                <i class="fas fa-image icon"></i>
                <h3 class="title">Our Shared Images</h3>
                <p class="coming-soon-text">Coming soon... üñºÔ∏è</p>
            </div>

            <!-- Shared Songs Placeholder -->
            <div class="shared-content-placeholder shared-songs-placeholder">
                <i class="fas fa-music icon"></i>
                <h3 class="title">Our Shared Songs</h3>
                <p class="coming-soon-text">Coming soon... üé∂</p>
            </div>
        </div>

        <!-- Daily Message Box -->
        <div class="daily-message-box">
            <div class="message-content">
                <i class="fas fa-cat icon"></i>
                <span id="dailyMessage">Daily Text goes here...</span>
                <i class="fas fa-cat icon"></i>
            </div>
        </div>
    </div>

    <!-- Removed Custom Cursor Element -->
    <!-- <div class="custom-cursor"></div> -->

    <script>
        const startDate = new Date('2023-11-01T00:00:00'); // Your start date

        // START OF BIRTHDAYS LIST (Month is 0-indexed: Jan=0, Feb=1, ..., Dec=11)
        const birthdays = [
            { name: "Beamlak Samuel", month: 0, day: 1 }, // Jan 1
            { name: "Addae Madzimoyo", month: 0, day: 7 }, // Jan 7
            { name: "Tsionawit Abera Desta", month: 0, day: 15 }, // Jan 15
            { name: "Serukyas Tewahido", month: 1, day: 1 }, // Feb 1
            { name: "Mathewos Ayelework", month: 1, day: 10 }, // Feb 10
            { name: "Daniela Pirela-Manares", month: 1, day: 12 }, // Feb 12
            { name: "Meseret Kiros Alema", month: 1, day: 16 }, // Feb 16
            { name: "Biniyam (Jay's)", month: 1, day: 19 }, // Feb 19 (Yek 12)
            { name: "Marcon (Jay's)", month: 1, day: 21 }, // Feb 21
            { name: "Leul (Jay's)", month: 1, day: 28 }, // Feb 28
            { name: "Abyssinia Zewdie", month: 2, day: 5 }, // March 5
            { name: "Neveah Adams", month: 2, day: 7 }, // March 7
            { name: "Addishiwot Belew Dagnew", month: 2, day: 11 }, // March 11
            { name: "Fikir Yohannes", month: 2, day: 15 }, // March 15
            { name: "Beamlak Henok", month: 2, day: 18 }, // March 18
            { name: "David Minda", month: 2, day: 19 }, // March 19
            { name: "Senay (Jay's)", month: 2, day: 19 }, // March 19
            { name: "Yeabsira Tamirat", month: 2, day: 23 }, // March 23
            { name: "Sammy Senpai", month: 2, day: 28 }, // March 28
            { name: "Kimberly Hoang", month: 3, day: 10 }, // April 10
            { name: "Eyerusalem Assefa Shewago", month: 3, day: 13 }, // April 13
            { name: "Betselot Wogderes", month: 3, day: 20 }, // April 20
            { name: "Essey Araya", month: 3, day: 30 }, // April 30
            { name: "Beamlaksra Fasil", month: 4, day: 6 }, // May 6
            { name: "Bemnet Zekarias", month: 4, day: 14 }, // May 14
            { name: "Woinshet (Jay's)", month: 4, day: 21 }, // May 21
            { name: "Claudia Wanjira", month: 4, day: 30 }, // May 30
            { name: "Basleal (Jay's)", month: 5, day: 4 }, // June 4
            { name: "Solyana Tamirat", month: 5, day: 7 }, // June 7
            { name: "Betsinat Wogderes", month: 5, day: 18 }, // June 18
            { name: "Nahom Mesfin", month: 5, day: 20 }, // June 20
            { name: "Kamuskay Kamara", month: 5, day: 22 }, // June 22
            { name: "MOM", month: 5, day: 23 }, // June 23
            { name: "Abenezer (Jay's)", month: 5, day: 23 }, // June 23
            { name: "Biruktawit Yaze", month: 5, day: 26 }, // June 26
            { name: "Rekik Chernet", month: 6, day: 2 }, // July 2
            { name: "Hermona Desta", month: 6, day: 4 }, // July 4
            { name: "Minas (Jay's)", month: 6, day: 4 }, // July 4
            { name: "Lidya Lakew", month: 6, day: 11 }, // July 11
            { name: "Saratou Bako Bagassa", month: 6, day: 13 }, // July 13
            { name: "Dr. Carmen Lynas", month: 6, day: 26 }, // July 26
            { name: "Tsegi (Jay's)", month: 7, day: 1 }, // Aug 1
            { name: "Biruk Sintayehu Tolla", month: 7, day: 3 }, // Aug 3
            { name: "Providence Suenge", month: 7, day: 10 }, // Aug 10
            { name: "Melake Birhanu Negus", month: 7, day: 15 }, // Aug 15
            { name: "Yafet", month: 7, day: 18 }, // Aug 18
            { name: "Alazar (Jay's)", month: 8, day: 3 }, // Sep 3
            { name: "Yididya Merete", month: 8, day: 10 }, // Sep 10
            { name: "Liya Gebru", month: 8, day: 15 }, // Sep 15
            { name: "Micheal Adebusoye", month: 8, day: 20 }, // Sep 20
            { name: "Tesfaye Kefene", month: 8, day: 21 }, // Sep 21
            { name: "Arphaxad Nyabuto", month: 8, day: 25 }, // Sep 25
            { name: "Amar Asfaw Dilala", month: 8, day: 27 }, // Sep 27
            { name: "Nahom Ketsela", month: 8, day: 28 }, // Sep 28
            { name: "Osman Jalloh", month: 9, day: 2 }, // Oct 2
            { name: "Blen Tewodros Gulilat", month: 9, day: 10 }, // Oct 10
            { name: "Bateal Zimna", month: 9, day: 11 }, // Oct 11
            { name: "Beti (Jay's)", month: 9, day: 11 }, // Oct 11
            { name: "Daniela Villanueva-Tellez", month: 9, day: 16 }, // Oct 16
            { name: "Amogelang Dlamini", month: 9, day: 23 }, // Oct 23
            { name: "Pierre Diatta", month: 9, day: 28 }, // Oct 28
            { name: "Perle Fayida", month: 10, day: 4 }, // Nov 4
            { name: "Solome Misganaw", month: 10, day: 5 }, // Nov 5
            { name: "Berhane Wheeler", month: 10, day: 14 }, // Nov 14
            { name: "Esterline Charles", month: 10, day: 27 }, // Nov 27
            { name: "Gertrude Mbewe", month: 10, day: 28 }, // Nov 28
            { name: "Betelihem Befirdu", month: 10, day: 30 }, // Nov 30
            { name: "Nika Davenport", month: 10, day: 30 }, // Nov 30
            { name: "Hizkeal Yeshitla", month: 11, day: 4 }, // Dec 4
            { name: "Meron Yeshitla", month: 11, day: 4 }, // Dec 4
            { name: "Sami (Jay's)", month: 11, day: 4 }, // Dec 4
            { name: "Mam-mary SarrFox", month: 11, day: 5 }, // Dec 5
            { name: "Sara Naizghi", month: 11, day: 13 }, // Dec 13
            { name: "Naod Ksmu", month: 11, day: 23 }, // Dec 23
            { name: "Liya Belay Tessema", month: 11, day: 30 }, // Dec 30
            { name: "Laura Warren", month: 11, day: 31 } // Dec 31
        ];
        // END OF BIRTHDAYS LIST


        // Get references to the elements for updating
        const daysValue = document.getElementById('daysValue');
        const secondsValue = document.getElementById('secondsValue');
        const dailyMessageElement = document.getElementById('dailyMessage');

        const themeToggleBtn = document.getElementById('themeToggleBtn');
        const birthdayInfoBtn = document.getElementById('birthdayInfoBtn');
        const calendarInfoBtn = document.getElementById('calendarInfoBtn');

        const birthdayNotification = document.getElementById('birthdayNotification');
        const birthdayMessageSpan = document.getElementById('birthdayMessage');
        const closeBirthdayNotificationBtn = document.getElementById('closeBirthdayNotification');

        const upcomingBirthdaysModal = document.getElementById('upcomingBirthdaysModal');
        const upcomingBirthdaysContent = document.getElementById('upcomingBirthdaysContent');
        const closeUpcomingBirthdaysModalBtn = document.getElementById('closeUpcomingBirthdaysModal');

        const calendarModal = document.getElementById('calendarModal');
        const calendarContent = document.getElementById('calendarContent');
        const closeCalendarModalBtn = document.getElementById('closeCalendarModal');

        // Removed customCursor variable
        // const customCursor = document.querySelector('.custom-cursor');

        // Messages for daily display
        const messages = [
            "I had a brief moment where I looked at you and thought, something has never felt this right - June 19, 2024",
            "I looked at you and felt sure. I don't know what of but I felt that way , And I knew I'd never make regrets about you - June 19, 2024",
            "Seeing you was the best decision, I enjoyed my time, ü´∂üèΩ I'd do it anyday - June 19, 2024",
            "Had no idea Obama lived in Chicago - May 31, 2025",
            "I'm so proud to live in the world with you - January 7, 2025",
            "pewds is my totoro ü´∂üèΩ (i havent watched that one) - June 9 2024",
            ":)",
            "Don't worry about me konjo",
            "You're always worth the wait",
            "How can you say you're not gonna read them and describe them so passionately - Nov 24, 2023",
            "Bitch eat actual misir pleaseüò≠ - September 28, 2024",
            "One of the many things i admire about youüôÇ - January 5, 2025",
            "Be careful of men - May 26, 2024",
            "its so cool when people arent related in blood but become close like family - January 13, 2014",
            "You're my happy placeü´∂ - nah, i was made for you - June 24, 2025",
            "i miss you everyday, from the moment i wake up - June 24, 2025"
        ];


        // Function to calculate and update the precise time difference
        function updateCounter() {
            const now = new Date();
            const start = new Date('2023-11-01T00:00:00'); // Your start date

            let totalDiffMillis = now.getTime() - start.getTime();
            
            // Calculate total days
            let totalSeconds = Math.floor(totalDiffMillis / 1000);
            let totalMinutes = Math.floor(totalSeconds / 60);
            let totalHours = Math.floor(totalMinutes / 60);
            let totalDays = Math.floor(totalHours / 24);

            let seconds = totalSeconds % 60; // Get remaining seconds


            daysValue.textContent = totalDays;
            secondsValue.textContent = String(seconds).padStart(2, '0'); // Update seconds
        }

        // Function to set the daily message
        function setDailyMessage() {
            const now = new Date();
            // Calculate day of the year (0-365)
            const startOfYear = new Date(now.getFullYear(), 0, 0);
            const diff = now - startOfYear;
            const oneDay = 1000 * 60 * 60 * 24;
            const dayOfYear = Math.floor(diff / oneDay);
            
            // Use day of year to cycle through messages
            const messageIndex = dayOfYear % messages.length;

            dailyMessageElement.textContent = messages[messageIndex];
        }

        // Helper to get month name (needed for birthday list)
        function getMonthName(monthIndex) {
            const monthNames = ["January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"];
            return monthNames[monthIndex];
        }

        function checkBirthdayToday() {
            const today = new Date();
            const currentMonth = today.getMonth(); // 0-indexed
            const currentDay = today.getDate(); // 1-indexed

            let birthdayFound = false;
            let birthdayNames = [];

            for (const person of birthdays) {
                if (person.month === currentMonth && person.day === currentDay) {
                    birthdayNames.push(person.name);
                    birthdayFound = true;
                }
            }

            if (birthdayFound) {
                birthdayMessageSpan.textContent = `Happy Birthday, ${birthdayNames.join(' and ')}! üéÇ`;
                birthdayNotification.classList.add('show');
            } else {
                birthdayNotification.classList.remove('show');
            }
        }

        // Function to get upcoming birthdays within the next 30 days
        function getUpcomingBirthdays() {
            const today = new Date();
            today.setHours(0, 0, 0, 0); // Normalize to start of day

            const thirtyDaysFromNow = new Date();
            thirtyDaysFromNow.setDate(today.getDate() + 30);
            thirtyDaysFromNow.setHours(23, 59, 59, 999); // Normalize to end of day

            const upcomingList = [];

            for (const person of birthdays) {
                let nextBirthday = new Date(today.getFullYear(), person.month, person.day);
                
                // If this year's birthday has already passed, consider next year's
                if (nextBirthday.getTime() < today.getTime()) {
                    nextBirthday.setFullYear(today.getFullYear() + 1);
                }

                // Check if this upcoming birthday falls within the next 30 days
                if (nextBirthday.getTime() >= today.getTime() && nextBirthday.getTime() <= thirtyDaysFromNow.getTime()) {
                    upcomingList.push({
                        name: person.name,
                        date: nextBirthday
                    });
                }
            }

            // Sort by date
            upcomingList.sort((a, b) => a.date.getTime() - b.date.getTime());

            // Format for display
            if (upcomingList.length === 0) {
                return "<p>No birthdays coming up soon ya'll can relax.</p>";
            } else {
                let htmlList = "<ul>";
                const options = { month: 'long', day: 'numeric' };
                for (const item of upcomingList) {
                    htmlList += `<li><strong>${item.name}</strong>: ${item.date.toLocaleDateString(undefined, options)}</li>`;
                }
                htmlList += "</ul>";
                return htmlList;
            }
        }

        function showUpcomingBirthdays() {
            upcomingBirthdaysContent.innerHTML = getUpcomingBirthdays(); // Set content dynamically
            upcomingBirthdaysModal.classList.add('show');
        }

        // Function to check if there's *any* upcoming birthday for the icon alert
        function checkUpcomingBirthdayAlert() {
            const today = new Date();
            today.setHours(0, 0, 0, 0);

            const thirtyDaysFromNow = new Date();
            thirtyDaysFromNow.setDate(today.getDate() + 30);
            thirtyDaysFromNow.setHours(23, 59, 59, 999);

            let hasUpcoming = false;
            for (const person of birthdays) {
                let nextBirthday = new Date(today.getFullYear(), person.month, person.day);
                if (nextBirthday.getTime() < today.getTime()) {
                    nextBirthday.setFullYear(today.getFullYear() + 1);
                }
                if (nextBirthday.getTime() >= today.getTime() && nextBirthday.getTime() <= thirtyDaysFromNow.getTime()) {
                    hasUpcoming = true;
                    break;
                }
            }
            if (hasUpcoming) {
                birthdayInfoBtn.classList.add('alert');
            } else {
                birthdayInfoBtn.classList.remove('alert');
            }
        }


        function showCalendarModal() {
            // For now, display the default message for the calendar
            calendarContent.textContent = "Ethiopian and International holidays coming soon... üéâ";
            calendarModal.classList.add('show');
        }


        // Function to toggle dark mode
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            themeToggleBtn.setAttribute('aria-pressed', isDark);
            // Update icon
            themeToggleBtn.querySelector('i').className = `fas ${isDark ? 'fa-sun' : 'fa-moon'}`;
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            updateCounter();
            setDailyMessage(); // Set the daily message on load
            setInterval(updateCounter, 1000);

            // Apply saved theme on load
            const storedTheme = localStorage.getItem('theme');
            if (storedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                themeToggleBtn.querySelector('i').className = 'fas fa-sun';
            } else {
                themeToggleBtn.querySelector('i').className = 'fas fa-moon';
            }
            themeToggleBtn.setAttribute('aria-pressed', storedTheme === 'dark');

            // Add event listener for theme toggle button
            themeToggleBtn.addEventListener('click', toggleTheme);

            // Birthday and Calendar features initialization
            checkBirthdayToday(); // Check for birthdays today (banner)
            checkUpcomingBirthdayAlert(); // Check for upcoming birthdays (icon alert)

            // Event listeners for birthday/calendar features
            if (closeBirthdayNotificationBtn) { // Check if element exists before adding listener
                closeBirthdayNotificationBtn.addEventListener('click', () => {
                    birthdayNotification.classList.remove('show');
                });
            }

            if (birthdayInfoBtn) { // Check if element exists
                birthdayInfoBtn.addEventListener('click', showUpcomingBirthdays);
            }
            if (closeUpcomingBirthdaysModalBtn) { // Check if element exists
                closeUpcomingBirthdaysModalBtn.addEventListener('click', () => {
                    upcomingBirthdaysModal.classList.remove('show');
                });
            }
            if (upcomingBirthdaysModal) { // Check if element exists
                upcomingBirthdaysModal.addEventListener('click', (event) => {
                    if (event.target === upcomingBirthdaysModal) {
                        upcomingBirthdaysModal.classList.remove('show');
                    }
                });
            }

            if (calendarInfoBtn) { // Check if element exists
                calendarInfoBtn.addEventListener('click', showCalendarModal);
            }
            if (closeCalendarModalBtn) { // Check if element exists
                closeCalendarModalBtn.addEventListener('click', () => {
                    calendarModal.classList.remove('show');
                });
            }
            if (calendarModal) { // Check if element exists
                calendarModal.addEventListener('click', (event) => {
                    if (event.target === calendarModal) {
                        calendarModal.classList.remove('show');
                    }
                });
            }

            // Removed custom cursor logic
            /*
            const customCursor = document.querySelector('.custom-cursor');
            if (customCursor) {
                document.addEventListener('mousemove', (e) => {
                    // Only show custom cursor on larger screens (PC)
                    if (window.innerWidth > 768) {
                        customCursor.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
                    }
                });
            }
            */
        });
    </script>
</body>
</html>
